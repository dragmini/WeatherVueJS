{"remainingRequest":"/Users/andrejbelaev/Desktop/vue js/WeatherVueJS/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andrejbelaev/Desktop/vue js/WeatherVueJS/src/components/CardsCity.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/andrejbelaev/Desktop/vue js/WeatherVueJS/src/components/CardsCity.vue","mtime":1643062749909},{"path":"/Users/andrejbelaev/Desktop/vue js/WeatherVueJS/node_modules/css-loader/dist/cjs.js","mtime":1642968463425},{"path":"/Users/andrejbelaev/Desktop/vue js/WeatherVueJS/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1642968463633},{"path":"/Users/andrejbelaev/Desktop/vue js/WeatherVueJS/node_modules/postcss-loader/src/index.js","mtime":1642968463508},{"path":"/Users/andrejbelaev/Desktop/vue js/WeatherVueJS/node_modules/cache-loader/dist/cjs.js","mtime":1642968463257},{"path":"/Users/andrejbelaev/Desktop/vue js/WeatherVueJS/node_modules/vue-loader/lib/index.js","mtime":1642968463569}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgouY2FyZHMgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsKICAgIGhlaWdodDogNTAlOwogICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kOwogICAgLyogbWFyZ2luLXRvcDogNyU7ICovCn0K"},{"version":3,"sources":["CardsCity.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CardsCity.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"cards\">\n        <CardCity v-for=\"(card, index) in this.cards\" :key=\"index\" :card=\"card\" :index=\"index\" :cardsLenght=\"cardsLenght\"></CardCity>\n        <!-- <button @click=\"this.getDataWeather\"></button> -->\n        <!-- <div>\n            {{ this.searchText }}\n        </div> -->\n    </div>\n</template>\n\n<style>\n.cards {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    height: 50%;\n    align-items: flex-end;\n    /* margin-top: 7%; */\n}\n</style>\n\n<script>\nimport CardCity from './CardCity.vue'\nimport Vue from 'vue'\n\n// Vue.forceUpdate();\n// import HeaderMenu from './HeaderMenu.vue'\n\nconst TOKEN = 'cac8f5b67a00d4b4cb1c5f18d2c23b22'\n\nexport default {\n    props: ['searchText'],\n    watch: {\n        searchText(newVal) {\n            if(this.newVal !== '') {\n            this.getDataWeather(newVal)\n            }\n        }\n    },\n    data() {\n        return {\n            cards: [],\n            cardsLenght: 0,\n            startCard: [\n                {\n                    cityName: 'Moscow',\n                },\n                {\n                    cityName: 'London',\n                },\n                {\n                    cityName: 'New York',\n                },\n                {\n                    cityName: 'Dubai',\n                },\n            ]\n        }\n    },\n    components: {\n        CardCity\n    },\n    mounted() {\n        this.loadStartCity()\n    },\n    methods: {\n        loadStartCity() {\n            this.startCard.map((card) => {\n                    this.getDataWeather(card.cityName)\n                })\n        },\n        getDataWeather(cityName) {\n            fetch(`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${TOKEN}`)\n                .then(response => response.json())\n                .then(data => {\n                        this.saveDataWeather(data)\n                        \n                    });\n        },\n        saveDataWeather(data) {\n            this.cards.splice(this.cards.length/2, 0, data)\n            // this.cardsLenght = this.cards.length\n            this.cardsLenght++\n            // Vue.forceUpdate();\n        },\n    }\n}\n\n</script>\n"]}]}